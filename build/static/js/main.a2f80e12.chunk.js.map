{"version":3,"sources":["components/image-preview/doc/image-preview.md","pages/SiteRecord/index.tsx","components/code-paper/CodePaper.tsx","components/isolate-block/IsolateBlock.tsx","components/context-menu/ContextMenu.tsx","components/image-preview/ImagePreview.tsx","components/image-preview/demo/demo.tsx","components/levels/OneLevel.tsx","components/levels/Levels.tsx","components/levels/demo.tsx","components/loading/index.tsx","components/waterfall/Waterfall.tsx","pages/Component/index.tsx","pages/Home/index.tsx","config/index.ts","components/code-paper/demo/demo.tsx","components/loading/demo.tsx","components/waterfall/demo/demo.tsx","pages/NotFound/index.tsx","App.tsx","serviceWorker.ts","index.tsx","assets/image/panda.png"],"names":["module","exports","SiteRecord","className","role","aria-label","href","CodePaper","props","textarea","useRef","ref","defaultValue","text","handleClick","onClick","current","value","buttonText","IsolateBlock","style","children","ContextMenu","menu","useState","x","y","cursorPoint","setCursorPoint","showContextMenu","setShowContextMenu","position","left","top","backgroundColor","borderRadius","padding","e","stopPropagation","onContextMenu","preventDefault","clientX","clientY","Array","map","item","key","name","method","renderMenu","emptyImageProps","w","h","r","l","t","translate","defaultOperator","bar","contextMenu","ImagePreview","url","onClose","visible","simpleMode","getImageLoadedSize","undefined","operator","fixedOnScreen","imageLoadedState","setImageLoadedState","imageState","setImageState","image","imageStyle","width","height","transform","imageStaticStyle","cursor","overflow","useEffect","prevent","enablePassiveWheelEvent","document","removeEventListener","console","log","addEventListener","passive","handleImageLoaded","state","node","window","innerWidth","innerHeight","wMax","hMax","wOrigin","naturalWidth","hOrigin","naturalHeight","wRatio","hRatio","size","changedState","sizing","reset","setControlMode","setRotatable","setDraggable","close","controlMode","changeMode","mode","distToImageBoundary","setDistToImageBoundary","draggable","rotatable","pointA","setPointA","imageOperations","rotate","s","disableActions","fullScreenFlag","setFullScreenFlag","easyCursorStyle","onLoad","src","alt","menuList","newItem","renderContextMenu","onMouseDown","offsetLeft","offsetTop","startMove","startRotate","onMouseMove","dragging","pointB","getLine","point1","point2","Math","sqrt","pow","abs","getBoundingClientRect","pointO","right","bottom","a","b","c","cosO","degree","acos","matrix","direct","rotating","onMouseUp","endRotate","onWheel","scaleDelta","deltaY","relativePoint","lastLeft","lastTop","barOperations","warn","renderBar","sampleImage","OneLevel","level","depth","route","location","pathname","match","active","setActive","replaceRoute","replace","changeRoute","classNameGenerator","static","activeLevel","color","paddingLeft","Levels","data","fontSize","recursiveRender","lastRoute","deep","deepItem","levels","Loading","Waterfall","column","generateColumn","i","concat","setStyle","gridColumn","gridTemplateColumns","Component","routes","RouteWithSubRoutes","Meta","routeConfig","icon","title","exact","component","hour","Date","getHours","hello","span","avatar","marginTop","img","description","length","inMenu","path","show","setShow","webImageUrl","setWebImageUrl","doc","setDoc","fetch","markdown","then","res","localStorage","getItem","modalWidth","setModalWidth","onCancel","setItem","source","plugins","toc","levelData","setLevelData","JSON","stringify","parse","error","message","info","NotFound","Header","Sider","Content","SubMenu","render","withRouter","collapsed","setCollapsed","toggle","isMobile","test","navigator","userAgent","menuTitle","routeItem","SettingTwoTone","trigger","reverseArrow","collapsible","theme","defaultSelectedKeys","defaultOpenKeys","subItem","Item","to","CheckCircleTwoTone","background","MenuUnfoldOutlined","MenuFoldOutlined","Boolean","hostname","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"+GAAAA,EAAOC,QAAU,IAA0B,0C,gdCG9BC,G,OAAa,WACtB,OACI,yBAAKC,UAAU,aACX,2BACI,0BAAMC,KAAK,MAAMC,aAAW,SAA5B,mEAGA,0BAAMD,KAAK,MAAMC,aAAW,SAA5B,iEAIJ,uBAAGF,UAAU,qBAAqBG,KAAK,gCAAgCD,aAAW,gCAAlF,+C,iCCLCE,G,OAAY,SAACC,GACtB,IAAMC,EAAWC,iBAA4B,MAO7C,OACI,yBAAKP,UAAU,wBACX,8BAAUQ,IAAKF,EAAUG,aAAcJ,EAAMK,KAAMV,UAAS,gCAA2BK,EAAML,aAC5FK,EAAMM,aAAe,4BAAQC,QAThB,WAClB,IAAMF,EAAOJ,EAASO,QAASC,MAC3BT,EAAMM,aACNN,EAAMM,YAAYD,KAMqCL,EAAMU,WAAaV,EAAMU,WAAa,+B,sDCZ5FC,G,OAAe,SAACX,GAAkB,IACnCY,EAA+BZ,EAA/BY,MAAOjB,EAAwBK,EAAxBL,UAAWkB,EAAab,EAAba,SAC1B,OACI,yBAAKlB,UAAS,kCAA6BA,GAAaiB,MAAOA,GAC1DC,K,wFCyDEC,G,OA5DK,SAACd,GAAkB,IAC3Be,EAAmBf,EAAnBe,KAAMF,EAAab,EAAba,SADoB,EAGIG,mBAAoB,CAAEC,EAAG,EAAGC,EAAG,IAHnC,mBAG3BC,EAH2B,KAGdC,EAHc,OAKYJ,oBAAS,GALrB,mBAK3BK,EAL2B,KAKVC,EALU,KAO5BV,EAA6B,CAC/BW,SAAU,QACVC,KAAML,EAAYF,EAClBQ,IAAKN,EAAYD,EACjBQ,gBAAiB,QACjBC,aAAc,MACdC,QAAS,OAUPtB,EAAc,SAACuB,GACjBP,GAAmB,GACnBO,EAAEC,mBAmBN,OAAKf,EAKD,yBAAKR,QAASD,EAAayB,cAhCd,SAACF,GACdA,EAAEG,iBACFZ,EAAe,CAAEH,EAAGY,EAAEI,QAASf,EAAGW,EAAEK,UACpCZ,GAAmB,KA8BdT,EACAQ,GACG,yBAAK1B,UAAU,yBAAyBiB,MAAOA,GAxBxC,SAACG,GAChB,OAAIA,aAAgBoB,MAEZ,oCACMpB,EAAoBqB,KAAI,SAACC,GAAD,OACtB,yBAAKC,IAAKD,EAAKE,KAAMhC,QAAS8B,EAAKG,QAC9BH,EAAKE,UAMfxB,EAaE0B,CAAW1B,KARjB,yBAAKR,QAASD,GAAcO,KCArC6B,G,OAAkC,CAAEC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,UAAW,SAE7EC,EAAiC,CACnCC,IAAK,CAAC,UAAW,WAAY,cAAe,YAAa,SACzDC,YAAa,CAAC,SAAU,cAAe,cAGpC,SAASC,EAAwBpD,GAAe,IAC3CqD,EAA8ErD,EAA9EqD,IAAKC,EAAyEtD,EAAzEsD,QAASC,EAAgEvD,EAAhEuD,QAD4B,EACoCvD,EAAvDwD,kBADmB,WACoCxD,EAAnCyD,0BADD,WACsBC,EADtB,EAG9CC,EAAWH,EAAa,KAA0B,YAAnBxD,EAAM2D,SAAyBV,EAAkBjD,EAAM2D,SAEtFC,IAAgBJ,GAAoBxD,EAAM4D,cALI,EAOF5C,mBAAyB0B,GAPvB,mBAO3CmB,EAP2C,KAOzBC,EAPyB,OASd9C,mBAAyB0B,GATX,mBAS3CqB,EAT2C,KAS/BC,EAT+B,KAW9CC,EAAQ/D,iBAAyB,MAE/BgE,EAAkC,CACpC1C,KAAK,GAAD,OAAKuC,EAAWjB,EAAhB,MACJrB,IAAI,GAAD,OAAKsC,EAAWhB,EAAhB,MACHoB,MAAM,GAAD,OAAKJ,EAAWpB,EAAhB,MACLyB,OAAO,GAAD,OAAKL,EAAWnB,EAAhB,MACNyB,UAAU,aAAD,OAAeN,EAAWf,UAA1B,aAAwCe,EAAWf,UAAnD,oBAAwEe,EAAWlB,EAAnF,SAGPyB,EAAwC,CAC1CC,OAAO,OACPJ,MAAM,GAAD,OAAKN,EAAiBlB,EAAtB,MACLyB,OAAO,GAAD,OAAKP,EAAiBjB,EAAtB,MACNrB,SAAU,WACViD,SAAU,UAIdC,qBAAU,WACN,IAAMC,EAAU,SAAC7C,GAAD,OAAYA,EAAEG,kBAExB2C,EAA0B,kBAAMC,SAASC,oBAAoB,QAASH,IAQ5E,OAPKlB,GAAcD,GAAWK,GAC1BkB,QAAQC,IAAI,mCAAoC,gBAHbH,SAASI,iBAAiB,QAASN,EAAS,CAAEO,SAAS,MAM1FH,QAAQC,IAAI,qCAAsC,eAClDJ,KAEGA,IACR,CAACpB,EAASK,EAAeJ,IAQ5B,IA+BM0B,EAAoB,WAEtB,GADAJ,QAAQC,IAAI,iBAAkB,aAC1Bd,EAAMzD,QAAS,CACf,IAAM2E,EAlCC,SAACC,GACZ,IAAMtC,EAAIc,EAAgByB,OAAOC,WAAa,EAAI,EAC5CvC,EAAIa,EAAgByB,OAAOE,YAAc,EAAI,EAE7CC,EAA2B,GAApBH,OAAOC,WACdG,EAA4B,GAArBJ,OAAOE,YAAoB,IAElCG,EAAUN,EAAKO,aACfC,EAAUR,EAAKS,cAEfC,EAASJ,EAAUF,EACnBO,EAASH,EAAUH,EAEnBO,EACFF,EAAS,GAAKC,EAAS,EACjB,CAAEpD,EAAG+C,EAAS9C,EAAGgD,GACjBE,EAASC,EACT,CAAEpD,EAAG6C,EAAM5C,EAAGgD,EAAUE,GACxB,CAAEnD,EAAG+C,EAAUK,EAAQnD,EAAG6C,GAK9BQ,EAAe,CAAElD,IAAGD,IAAGH,EAAGqD,EAAKrD,EAAGC,EAAGoD,EAAKpD,EAAGI,UAHjCY,EAAgB,OAAS,KAIrCuB,EAAK,eAAQpB,EAAR,GAAuBkC,GAGlC,OAFAnC,EAAoBqB,GACpBnB,EAAcmB,GACPA,EAOWe,CAAOjC,EAAMzD,SACvBiD,GACAA,EAAmB0B,KAqBzBgB,EAAQ,WACVC,EAAe,aACfC,GAAa,GACbC,GAAa,GACbtC,EAAcH,IAIZ0C,EAAQ,WACVJ,IACI7C,GACAA,KAtH0C,EAoJZtC,mBAA2B,aApJf,mBAoJ3CwF,EApJ2C,KAoJ9BJ,EApJ8B,KAsJ5CK,EAAa,SAACC,GAAD,OAA4BN,EAAeM,IAtJZ,EAyJI1F,mBAAoB,CAAEC,EAAG,EAAGC,EAAG,IAzJnC,mBAyJ3CyF,EAzJ2C,KAyJtBC,EAzJsB,OA0JhB5F,oBAAS,GA1JO,mBA0J3C6F,EA1J2C,KA0JhCP,EA1JgC,OAmLhBtF,oBAAS,GAnLO,mBAmL3C8F,EAnL2C,KAmLhCT,EAnLgC,OAoLtBrF,mBAAoB,CAAEC,EAAG,EAAGC,EAAG,IApLT,mBAoL3C6F,EApL2C,KAoLnCC,EApLmC,KA2O5CC,EAAqC,CACvC,UAhJW,WACXjD,GAAc,SAAAmB,GAAK,sBAAUA,EAAV,CAAiBxC,EAAkB,KAAfoB,EAAWpB,EAAUC,EAAkB,KAAfmB,EAAWnB,QAgJ1E,WA5IY,WACZoB,GAAc,SAAAmB,GAAK,sBAAUA,EAAV,CAAiBxC,EAAkB,IAAfoB,EAAWpB,EAAUC,EAAkB,IAAfmB,EAAWnB,QA4I1EsE,OAxIW,WACXlD,GAAc,SAAAmD,GAAC,sBAAUA,EAAV,CAAatE,EAAGsE,EAAEtE,EAAI,SAwIrC,YAAa,kBAAM4D,EAAW,cAC9B,cAAe,kBAAMA,EAAW,gBAChCN,MAAOA,GAILiB,GAAiB,WACnBhB,EAAe,aACfE,GAAa,GACbD,GAAa,IAxPiC,GAoTNrF,oBAAS,GApTH,qBAoT3CqG,GApT2C,MAoT3BC,GApT2B,MAsT5CC,GAAuC,CAAEhD,OAAQ8C,GAAiB,WAAa,WAsBrF,OAAK9D,EAIDC,EAEI,yBAAK7D,UAAS,kCAAqCY,QAASgG,GACxD,yBAAK5G,UAAU,6BAA6BY,QAASgG,GAArD,KAGA,yBACI5G,UAAS,wBACToC,cAAeqF,GACf7G,QAjCS,SAACsB,GACtBA,EAAEG,iBACFH,EAAEC,kBACF,IAAMgB,EAAIuC,OAAOC,WAAa,EACxBvC,EAAIsC,OAAOE,YAAc,EAEzBC,EAA2B,GAApBH,OAAOC,WAAmB,GACjCG,EAA4B,GAArBJ,OAAOE,YAAoB,GAElCO,EAASjC,EAAiBlB,EAAI6C,EAC9BO,EAASlC,EAAiBjB,EAAI6C,EAE9BO,EAAOF,EAASC,EAAS,CAAEpD,EAAG6C,EAAM5C,EAAGiB,EAAiBjB,EAAIkD,GAAW,CAAEnD,EAAGkB,EAAiBlB,EAAIoD,EAAQnD,EAAG6C,GAE5GzC,EAAYY,EAAgB,OAAS,IAE3CI,GAAc,SAAAmD,GAAC,OAAKE,GAAiBxD,EAAH,eAA2BsD,EAA3B,CAA8BrE,IAAGC,IAAGJ,EAAGqD,EAAKrD,EAAGC,EAAGoD,EAAKpD,EAAGI,iBAC5FsE,IAAkB,SAAAH,GAAC,OAAKA,MAiBZvG,MAAK,eAAOsD,EAAP,GAAsBqD,IAC3BC,OAAQtC,EACR/E,IAAK8D,EACLwD,IAAKpE,EACLqE,IAAI,kBAOhB,yBACI/H,UAAS,kCAA6BiE,EAAgB,UAAY,IAClEhD,MAAOgD,EAAgB,GAAKU,EAC5B/D,QAASqD,EAAgB2C,OAAQ,GAEhC3C,GACG,yBAAKjE,UAAU,6BAA6BY,QAASgG,GAArD,KAIJ,kBAAC,EAAD,CAAaxF,KAjHK,WAEtB,IAAK4C,IAAaA,EAASR,YACvB,OAAO,KAIX,GAAIQ,EAASR,uBAAuBhB,MAAO,CACvC,IAAIwF,EAAuB,GADY,uBAEvC,YAAiBhE,EAASR,YAA1B,+CAAuC,CAAC,IAA/BZ,EAA8B,QAC7BC,EAASyE,EAAgB1E,GAC/B,GAAIC,EAAQ,CACR,IAAMoF,EAAoB,CAAErF,OAAMC,UAClCmF,EAAQ,sBAAOA,GAAP,CAAiBC,MANM,kFASvC,OAAOD,EAIX,OAAOhE,EAASR,YA6FO0E,IACf,yBACIlI,UAAS,wBACTmI,YApJQ,SAACjG,GACL,cAAhB2E,EAlEc,SAAC3E,GACfA,EAAEG,iBACFsE,GAAa,GACbM,EAAuB,CAAE3F,EAAGY,EAAEI,QAAUgC,EAAMzD,QAASuH,WAAY7G,EAAGW,EAAEK,QAAU+B,EAAMzD,QAASwH,YA+DnEC,CAAUpG,GA1CxB,SAASA,GACzBA,EAAEG,iBACFgF,EAAU,CAAE/F,EAAGY,EAAEI,QAASf,EAAGW,EAAEK,UAC/BmE,GAAa,GAuCgC6B,CAAYrG,IAoJ7CsG,YAjJQ,SAACtG,GACL,cAAhB2E,EA/Da,SAAS3E,GACtB,GAAKgF,EAAL,CAGA,IAAI/D,EAAIjB,EAAEI,QAAU0E,EAAoB1F,EACpC8B,EAAIlB,EAAEK,QAAUyE,EAAoBzF,EACxC8C,GAAc,SAAAmD,GAAC,sBAAUA,EAAV,CAAarE,IAAGC,UAyDDqF,CAASvG,GAxC1B,SAASA,GACtB,GAAKiF,EAAL,CAIA,IAAMuB,EAAS,CAAEpH,EAAGY,EAAEI,QAASf,EAAGW,EAAEK,SAE9BoG,EAAU,SAACC,EAAmBC,GAApB,OACZC,KAAKC,KAAKD,KAAKE,IAAIF,KAAKG,IAAIL,EAAOtH,EAAIuH,EAAOvH,GAAI,GAAKwH,KAAKE,IAAIF,KAAKG,IAAIL,EAAOrH,EAAIsH,EAAOtH,GAAI,KARxD,EAUN+C,EAAMzD,QAASqI,wBAC9CC,EAAS,CAAE7H,GAX0B,EAUnCO,KAVmC,EAU7BuH,OACuB,EAAG7H,GAXG,EAUtBO,IAVsB,EAUjBuH,QACkC,GACtDC,EAAIX,EAAQD,EAAQtB,GACpBmC,EAAIZ,EAAQD,EAAQS,GACpBK,EAAIb,EAAQvB,EAAQ+B,GAEtBM,GAAQF,EAAIA,EAAIC,EAAIA,EAAIF,EAAIA,IAAM,EAAIC,EAAIC,GAC1CE,EAA4B,IAAlBZ,KAAKa,KAAKF,GAAe,OAGnCG,EAAS,CACT,CAACxC,EAAO9F,EAAI6H,EAAO7H,EAAGoH,EAAOpH,EAAI6H,EAAO7H,GACxC,CAAC8F,EAAO7F,EAAI4H,EAAO5H,EAAGmH,EAAOnH,EAAI4H,EAAO5H,IAExCsI,EAASD,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EAAI,GAAM,EAEpFvF,GAAc,SAAAmD,GAAC,sBAAUA,EAAV,CAAatE,EAAGsE,EAAEtE,EAAI2G,EAASH,OAC9CrC,EAAUqB,IAakCoB,CAAS5H,IAiJzC6H,UA9IM,SAAC7H,GACH,cAAhB2E,EAxDAF,GAAa,GA0CC,SAASzE,GACvBmF,EAAU,CAAE/F,EAAGY,EAAEI,QAASf,EAAGW,EAAEK,UAC/BmE,GAAa,GAY6BsD,CAAU9H,IA8IxCE,cAAeqF,GACf7G,QAAS,SAACsB,GAAD,OAAyBA,EAAEC,iBACpClB,MAAOsD,EACPsD,OAAQtC,EACR/E,IAAK8D,EACLwD,IAAKpE,EACLqE,IAAI,eACJkC,QA/PA,SAAC/H,GACb,IAAIgI,EAAahI,EAAEiI,OAAS,EAAI,KAAS,IAGnCC,EAAgClI,EAAEI,QAAU8B,EAAWjB,EAAvDiH,EAA6DlI,EAAEK,QAAU6B,EAAWhB,EAGtFJ,EAAIoB,EAAWpB,GAAK,EAAIkH,GACxBjH,EAAImB,EAAWnB,GAAK,EAAIiH,GAGxBG,EAAWjG,EAAWjB,EACtBmH,EAAUlG,EAAWhB,EAGrBD,EAAIkH,EAAWH,EAAaE,EAC5BhH,EAAIkH,EAAUJ,EAAaE,EAC/B/F,GAAc,SAAAmD,GAEV,OADiB,eAAQA,EAAR,CAAWxE,IAAGC,IAAGE,IAAGC,aAuI3B,WACd,IAAKY,IAAaA,EAAST,IACvB,OAAO,KAEX,GAAIS,EAAST,eAAef,MAAO,CAC/B,IAAI+H,EAA4B,GADD,uBAE/B,YAAiBvG,EAAST,IAA1B,+CAA+B,CAAC,IAAvBX,EAAsB,QACrBC,EAASyE,EAAgB1E,GAC/B,GAAIC,EAAQ,CACR,IAAMoF,EAAoB,CAAErF,OAAMC,UAClC0H,EAAa,sBAAOA,GAAP,CAAsBtC,SAEnC9C,QAAQqF,KAAR,yCAA+C5H,KARxB,kFAqB/B,OARI,yBAAK5C,UAAU,6BAA6BY,QAAS,SAAAsB,GAAC,OAAIA,EAAEC,oBACvDoI,EAAc9H,KAAI,SAAAC,GAAI,OACnB,uBAAGC,IAAKD,EAAKE,KAAMhC,QAAS8B,EAAKG,QAC5BH,EAAKE,UAO1B,OAAOoB,EAAST,IA8EXkH,IAlDE,qC,WC9XTC,EAAc,6ECDPC,G,OAAW,SAACtK,GAAkB,IAC/BuK,EAAwBvK,EAAxBuK,MAAOC,EAAiBxK,EAAjBwK,MAAOC,EAAUzK,EAAVyK,MADgB,EASVzJ,qBALXqE,OAAOqF,SAASC,SACPC,MAAMH,IALM,mBAS/BI,EAT+B,KASvBC,EATuB,KAgBhCC,EAAe,SAACN,GAAD,OAAmBpF,OAAOqF,SAASM,QAAQP,IAE1DQ,EAAc,SAACR,GAAD,OAAmB3F,QAAQC,IAAI0F,IAMnD,OACI,yBACInI,IAAKiI,EAAMhI,KACX5C,UAPmB,SAAC6K,GACxB,MAAM,iBAAN,OAAwBA,EAAQ,eAAiB,IAMlCU,CAAmBV,GAC9BjK,QAAS,kBAjBG,SAAC8B,EAAaoI,GAE9B,OADAK,GAAU,SAAA3D,GAAC,OAAKA,KACT9E,EAAK8I,OAASJ,EAAa1I,EAAKoI,OAASQ,EAAYR,GAezCW,CAAYb,EAAOE,IAClC7J,MAAOiK,EAAS,CAAEQ,MAAO,gBAAc3H,GAEvC,0BAAM9C,MAAO,CAAE0K,YAAY,GAAD,OAAKd,EAAL,SACzBD,EAAMhI,QCfNgJ,EAAS,SAACvL,GAAkB,IAC7BwL,EAAwBxL,EAAxBwL,KAD4B,EACJxL,EAAlByL,gBADsB,MACX,GADW,EAqBpC,OAAO,yBAAK9L,UAAU,oBAAoB6L,EAAKpJ,KAAI,SAACC,GAAD,OAV3B,SAAlBqJ,EAAmBrJ,GAAyE,IAA5DmI,EAA2D,uDAA3C,EAAGmB,EAAwC,uCACvFlB,EAAQkB,EAAS,UAAMA,EAAN,YAAmBtJ,EAAKoI,OAAUpI,EAAKoI,MAC9D,OACI,yBAAKnI,IAAKD,EAAKE,MACX,kBAAC,EAAD,CAAUgI,MAAOlI,EAAMmI,MAAOA,EAAOC,MAAOA,EAAOgB,SAAUA,IAC5DpJ,EAAKuJ,MAAQvJ,EAAKuJ,KAAKxJ,KAAI,SAACyJ,GAAD,OAAqBH,EAAgBG,EAAUrB,EAAQ,EAAGC,OAK9BiB,CAAgBrJ,QC7ClFyJ,EAAkB,CACpB,CAAEvJ,KAAM,WAAYkI,MAAO,YAC3B,CAAElI,KAAM,SAAUkI,MAAO,sBAAuBU,QAAQ,GACxD,CACI5I,KAAM,SACNkI,MAAO,SACPmB,KAAM,CACF,CACIrJ,KAAM,QACNkI,MAAO,QACPmB,KAAM,CACF,CAAErJ,KAAM,OAAQkI,MAAO,QACvB,CAAElI,KAAM,OAAQkI,MAAO,UAG/B,CAAElI,KAAM,SAAUkI,MAAO,aCfxBsB,G,OAAU,SAAC/L,GACpB,OAAO,0BAAML,UAAU,gBAAgBY,QAASP,EAAMM,gBCO7C0L,G,OAAY,SAAChM,GAAkB,IAChCa,EAAyBb,EAAzBa,SAD+B,EACNb,EAAfiM,cADqB,MACZ,EADY,EAGjCC,EAAiB,SAACD,GAEpB,IADA,IACSE,EAAI,EAAGA,EAAIF,EAAQE,IADN,GAEFC,OAAO,QAE3B,MAJsB,IAJa,EAWbpL,mBAAwB,IAXX,mBAWhCJ,EAXgC,KAWzByL,EAXyB,KAmBvC,OANA5H,qBAAU,WACN,IAAM6H,EAAa,CAAEC,oBAAqBL,EAAeD,IACzDI,EAASC,GACTxH,QAAQC,IAAIuH,KACd,CAACL,IAGC,yBAAKtM,UAAU,sBAAsBiB,MAAOA,GACvCC,KCXE2L,G,OAZG,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,OACnB,OACE,yBAAK9M,UAAU,UACb,kBAAC,IAAD,KACG8M,EAAOrK,KAAI,SAACqI,GAAD,OACV,kBAACiC,GAAD,eAAoBpK,IAAKmI,EAAMnI,KAASmI,W,wFCT1CkC,G,WAAAA,MCwBKC,EAA+B,CACxC,CACItK,IAAK,OACLuK,KAAM,OACNC,MAAO,eACPC,OAAO,EACPC,UD5BK,WAAO,IAAD,EACTC,GAAO,IAAIC,MAAOC,WACpBC,EACAH,GAAQ,IAAMA,GAAQ,GAChB,iEACAA,GAAQ,IAAMA,GAAQ,GACtB,sDACAA,EAAO,IAAMA,EAAO,EACpB,+CACA,6EAEV,OACI,yBAAKtN,UAAU,UACX,0DACA,2BACI,uBAAK0N,KAAM,IACP,kBAACV,EAAD,CACIW,OAAQ,uBAAQ1M,MAAO,CAAE2M,UAAW,GAAKvH,KAAK,QAAQyB,IAAK+F,MAC3DV,MAAK,UAAKM,GACVK,YAAY,gFAGpB,uBAAK7M,MAAO,CAAE2M,WAAY,IAAMF,KAAM,GAClC,uBAAWP,MAAM,uCAASrM,MAAK,UAAEmM,EAAY,GAAGH,cAAjB,aAAE,EAAuBiB,aCMpEC,QAAQ,EACRC,KAAM,KAEV,CACItL,IAAK,OACLuK,KAAM,OACNC,MAAO,eACPa,QAAQ,EACRX,UAAWR,EACXoB,KAAM,QACNnB,OAAQ,CACJ,CACInK,IAAK,gBACLwK,MAAO,6CACPE,URrCgB,WAAO,IAAD,EACVhM,oBAAyB,GADf,mBAC3B6M,EAD2B,KACrBC,EADqB,OAGI9M,mBAAS,IAHb,mBAG3B+M,EAH2B,KAGdC,EAHc,OAKZhN,mBAAS,IALG,mBAK3BiN,EAL2B,KAKtBC,EALsB,KAOlCzJ,qBAAU,WACN0J,MAAMC,KACDC,MAAK,SAAAC,GAAG,OAAIA,EAAIjO,UAChBgO,MAAK,SAAAhO,GAAI,OAAI6N,EAAO7N,QAC1B,IAEH,IAAMkG,EAAQ,WACVuH,EAAQ,OAYZrJ,qBAAU,WACN,IAAMpE,EAAOkO,aAAaC,QAAQ,qBAC9BnO,GACA2N,EAAe3N,KAEpB,IA/B+B,MAiCEW,mBAAS,KAjCX,mBAiC3ByN,EAjC2B,KAiCfC,EAjCe,KAuClC,OACI,6BACI,8GACA,8FACA,kFACA,yBAAK/O,UAAU,WACX,kBAAC,EAAD,KACI,oEACA,sKACA,yBAAK8H,IAAK+F,IAAK9F,IAAI,eAAK/H,UAAU,iBAAiBY,QAAS,kBAAMuN,EAAQ,MAC1E,kBAAC,EAAD,CAAczK,IAAKmK,IAAKhK,YAAY,EAAMD,QAAkB,IAATsK,EAAYvK,QAASiD,KAG5E,kBAAC,EAAD,KACI,wDACA,yEACA,yBAAKmB,IAAI,eAAK/H,UAAU,iBAAiB8H,IAAK4C,EAAa9J,QAAS,kBAAMuN,EAAQ,MAClF,kBAAC,EAAD,CAAczK,IAAKgH,EAAa1G,SAAS,UAAUC,eAAe,EAAML,QAAkB,IAATsK,EAAYvK,QAASiD,KAG1G,kBAAC,EAAD,KACI,0EACA,6FACA,gEACA,yBAAKmB,IAAI,eAAK/H,UAAU,iBAAiB8H,IAAK4C,EAAa9J,QAAS,kBAAMuN,EAAQ,MAClF,uBAAOvK,QAAkB,IAATsK,EAAY1J,MAAOsK,EAAYE,SAAUpI,EAAO3F,MAAO,CAAEuD,MAAO,QAASC,OAAQ,UAC7F,kBAAC,EAAD,CACIf,IAAKgH,EACL5G,mBAhCG,SAACuC,GACxB0I,EAAc1I,EAAKrD,EAAI,KAgCHiB,eAAe,EACfD,SAAS,UACTJ,SAAS,EACTD,QAASiD,MAKrB,kBAAC,EAAD,KACI,wDACA,mJACA,kBAAC,EAAD,CAAWlG,KAAM0N,EAAazN,YA9DzB,SAACD,GACdA,IACA2N,EAAe3N,GACfkO,aAAaK,QAAQ,oBAAqBvO,IAE9CyN,EAAQ,KAyD6DpN,WAAW,2BAAOf,UAAU,eACrF,kBAAC,IAAD,KACI,+BACI,4BADJ,4BAIA,+BACI,4BADJ,6BAKJ,kBAAC,EAAD,CAAc0D,IAAK0K,EAAavK,YAAY,EAAMD,QAAkB,KAATsK,EAAavK,QAASiD,MAGzF,kBAAC,IAAD,CAAesI,OAAQZ,EAAKa,QAAS,CAACC,SQvDlCnB,KAAM,uBAEV,CACItL,IAAK,SACLwK,MAAO,uCACPE,ULjCU,WAAO,IAAD,EACMhM,mBAAS8K,GADf,mBACrBkD,EADqB,KACVC,EADU,KAU5B,OACI,yBAAKtP,UAAU,uBACX,wGACA,oDACA,4CAHJ,4BAKI,kBAAC,EAAD,CAAWU,KAAI,UAAK6O,KAAKC,UAAUrD,IAAWxL,YAbjC,SAACD,GAClB,IACI4O,EAAaC,KAAKE,MAAM/O,IAC1B,SACEyE,QAAQuK,MAAM,wCAUd,kBAAC,EAAD,CAAQ7D,KAAMwD,MKiBVpB,KAAM,gBAEV,CACItL,IAAK,aACLwK,MAAO,oCACPE,UC3Da,WAIzB,OACI,6BACI,kDACA,kBAAC,EAAD,CAAW3M,KAAK,GAAGC,YANP,SAACD,GACjBiP,EAAA,EAAQC,KAAKlP,QD0DLuN,KAAM,oBAEV,CACItL,IAAK,iBACLwK,MAAO,wCACPE,UElEW,WACvB,OACI,6BACI,kBAAC,EAAD,QFgEIY,KAAM,wBAGV,CACItL,IAAK,YACLwK,MAAO,oCACPE,UGxEa,WACzB,OACI,6BACI,kBAAC,EAAD,KACI,kBAAC,EAAD,oCACA,kBAAC,EAAD,oBACA,kBAAC,EAAD,6DACA,kBAAC,EAAD,mCACA,kBAAC,EAAD,uFACA,kBAAC,EAAD,6DACA,kBAAC,EAAD,mCACA,kBAAC,EAAD,iHACA,kBAAC,EAAD,sCH6DAY,KAAM,sBI3ET4B,EAAW,WACpB,OACI,0CCIAC,E,IAAAA,OAAQC,G,IAAAA,MAAOC,G,IAAAA,QACfC,G,IAAAA,QAOD,SAASlD,GAAmBjC,GAC/B,OACI,kBAAC,IAAD,CACImD,KAAMnD,EAAMmD,KACZiC,OAAQ,SAAA7P,GAAK,OAET,kBAACyK,EAAMuC,UAAP,iBAAqBhN,EAArB,CAA4ByM,OAAQhC,EAAMgC,aAM1D,IA8EeqD,gBA9EO,WAAO,IAAD,EACU9O,oBAAS,GADnB,mBACjB+O,EADiB,KACNC,EADM,KAGlBC,EAAS,kBAAMD,GAAcD,IAEnCtL,qBAAU,WACN,IAAIyL,EAAW,kJAAkJC,KAC7JC,UAAUC,WAEdL,IAAeE,KAChB,IAEH,IAAMI,EAAY,SAACC,GAAD,OACd,8BACI,kBAACC,EAAA,EAAD,MACA,8BAAOD,EAAUzD,SA4BzB,OACI,yBAAKnN,UAAU,OACX,2BACI,kBAAC+P,GAAD,CAAOvL,MAAO,IAAKsM,QAAS,KAAMC,cAAY,EAACC,aAAW,EAACZ,UAAWA,GAClE,yBAAKpQ,UAAU,QAAf,wCACA,uBAAMiR,MAAM,OAAOlK,KAAK,SAASmK,oBAAqB,CAAC,QAASC,gBAAiB,CAAC,SA5BvFlE,EAAYxK,KAAI,SAAAmO,GACnB,OAAOA,EAAU9D,OACb,kBAACmD,GAAD,CAAStN,IAAKiO,EAAUjO,IAAKwK,MAAOwD,EAAUC,IACzCA,EAAU9D,OAAOrK,KAAI,SAAA2O,GAAO,OACzB,sBAAMC,KAAN,CAAW1O,IAAKyO,EAAQzO,KACpB,kBAAC,IAAD,CAAS2O,GAAIF,EAAQnD,MAChBmD,EAAQlE,MAAQ,kBAACqE,EAAA,EAAD,MACjB,8BAAOH,EAAQjE,aAK/ByD,EAAUvD,UACV,sBAAMgE,KAAN,CAAW1O,IAAKiO,EAAUjO,KACtB,kBAAC,IAAD,CAAS2O,GAAIV,EAAU3C,MAClB2C,EAAU1D,MAAQ,kBAACqE,EAAA,EAAD,MACnB,8BAAOX,EAAUzD,SAGzB,UAaA,2BACI,kBAAC2C,EAAD,CAAQ7O,MAAO,CAAEuQ,WAAY,OAAQvP,QAAS,IACzCmO,EACG,kBAACqB,EAAA,EAAD,CAAoB7Q,QAAS0P,EAAQtQ,UAAU,YAE/C,kBAAC0R,EAAA,EAAD,CAAkB9Q,QAAS0P,EAAQtQ,UAAU,YAJrD,gBAQA,kBAACgQ,GAAD,CAAShQ,UAAU,eACf,kBAAC,IAAD,WAEKiN,EAAYxK,KAAI,SAAAqI,GAAK,OAClB,kBAACiC,GAAD,eAAoBpK,IAAKmI,EAAMnI,KAASmI,OAE5C,kBAAC,IAAD,CAAOuC,UAAWwC,QAMlC,kBAAC,EAAD,U,OCzFQ8B,QACW,cAA7BjM,OAAOqF,SAAS6G,UAEe,UAA7BlM,OAAOqF,SAAS6G,UAEhBlM,OAAOqF,SAAS6G,SAAS3G,MACvB,2DCXN4G,IAAS3B,OACL,kBAAC,IAAD,KACI,kBAAC,GAAD,OAEJjL,SAAS6M,eAAe,SDgItB,kBAAmBrB,WACrBA,UAAUsB,cAAcC,MAAMtD,MAAK,SAAAuD,GACjCA,EAAaC,iB,mBE7InBrS,EAAOC,QAAU,IAA0B,oC","file":"static/js/main.a2f80e12.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/image-preview.d8ec4dad.md\";","import React from 'react';\nimport './index.less';\n\nexport const SiteRecord = () => {\n    return (\n        <div className=\"site-info\">\n            <p>\n                <span role=\"img\" aria-label=\"emoji\">\n                    ❤️ Written by Caper with passion and&nbsp; ❤️\n                </span>\n                <span role=\"img\" aria-label=\"emoji\">\n                    ✨ Built with React & supported by Node on Nginx. ✨\n                </span>\n            </p>\n            <a className=\"site-record-anchor\" href=\"http://www.beian.miit.gov.cn/\" aria-label=\"link and check for this site\">\n                IPC证: 浙ICP备19047176号\n            </a>\n        </div>\n    );\n};\n","import React, { useRef } from 'react';\nimport './CodePaper.less';\ninterface Props {\n    text: string;\n    buttonText?: string;\n    className?: string;\n    handleClick?: (text: string) => void;\n}\n\nexport const CodePaper = (props: Props) => {\n    const textarea = useRef<HTMLTextAreaElement>(null);\n    const updateChanges = () => {\n        const text = textarea.current!.value;\n        if (props.handleClick) {\n            props.handleClick(text);\n        }\n    };\n    return (\n        <div className=\"g-code-paper-wrapper\">\n            <textarea ref={textarea} defaultValue={props.text} className={`g-code-paper-textarea ${props.className}`} />\n            {props.handleClick && <button onClick={updateChanges}>{props.buttonText ? props.buttonText : '更新数据'}</button>}\n        </div>\n    );\n};\n","import React from 'react';\nimport { DefaultHTMLElementProps } from 'typings/types';\nimport './IsolateBlock.less';\n\ninterface Props extends DefaultHTMLElementProps {\n    children: React.ReactNode;\n}\n\nexport const IsolateBlock = (props: Props) => {\n    const { style, className, children } = props;\n    return (\n        <div className={`g-isolate-block-wrapper ${className}`} style={style}>\n            {children}\n        </div>\n    );\n};\n","import React, { useState } from 'react';\nimport { AxisPoint, DefaultHTMLElementProps, MenuItem } from 'typings/types';\nimport './ContextMenu.less';\n\ninterface Props extends DefaultHTMLElementProps {\n    menu?: MenuItem[] | React.ReactElement | null;\n    children: React.ReactElement;\n}\n\nconst ContextMenu = (props: Props) => {\n    const { menu, children } = props;\n\n    const [cursorPoint, setCursorPoint] = useState<AxisPoint>({ x: 0, y: 0 });\n\n    const [showContextMenu, setShowContextMenu] = useState(false);\n\n    const style: React.CSSProperties = {\n        position: 'fixed',\n        left: cursorPoint.x,\n        top: cursorPoint.y,\n        backgroundColor: 'white',\n        borderRadius: '4px',\n        padding: '4px',\n    };\n\n    /* 右键菜单 */\n    const openMenu = (e: React.MouseEvent) => {\n        e.preventDefault();\n        setCursorPoint({ x: e.clientX, y: e.clientY });\n        setShowContextMenu(true);\n    };\n\n    const handleClick = (e: React.MouseEvent) => {\n        setShowContextMenu(false);\n        e.stopPropagation();\n    };\n\n    const renderMenu = (menu: Props['menu']): React.ReactNode => {\n        if (menu instanceof Array) {\n            return (\n                <>\n                    {(menu as MenuItem[]).map((item: MenuItem) => (\n                        <div key={item.name} onClick={item.method}>\n                            {item.name}\n                        </div>\n                    ))}\n                </>\n            );\n        } else {\n            return menu;\n        }\n    };\n\n    if (!menu) {\n        return <div onClick={handleClick}>{children}</div>;\n    }\n\n    return (\n        <div onClick={handleClick} onContextMenu={openMenu}>\n            {children}\n            {showContextMenu && (\n                <div className=\"g-context-menu-default\" style={style}>\n                    {renderMenu(menu)}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ContextMenu;\n","// import { ContextMenu } from 'components/ContextMenu';\nimport ContextMenu from 'components/context-menu/ContextMenu';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { AxisPoint, MenuItem } from 'typings/types';\nimport './ImagePreview.less';\n\ntype ImageControlMode = 'free-rotate' | 'free-drag' | 'ratio-scale';\ntype ImageAction = 'rotate' | 'drag' | 'ratio-scale' | 'zoom-in' | 'zoom-out' | 'reset';\ntype ImageOperation = ImageAction | ImageControlMode;\n\ntype ImageOperationMap = {\n    [key in ImageOperation]?: (props?: any) => void;\n};\n\ntype OperatorProps = {\n    bar: ImageOperation[] | React.ReactElement | null;\n    contextMenu: ImageOperation[] | React.ReactElement | null;\n};\n\nexport interface BaseImageProps {\n    w: number; // width\n    h: number; // height\n    r: number; // rotate\n    l: number; // left\n    t: number; // top\n    translate: string;\n}\n\n/*\n * 组件备注相关说明\n * 原始尺寸: 图片的原始尺寸\n * 加载尺寸: 图片所能最大占有屏幕的尺寸\n *\n * url: 图片地址\n * visible:  组件可视状态\n * onClose:  关闭回调\n * simpleMode: 简单模式, 当为 true 时, 不接受 operator 和 fixedOnScreen\n * operator:  控制条, null 则生成简易模式, 'default' 则生成默认操作栏\n * fixedOnScreen: 是否在整个全屏遮罩固定, 简易模式下(operator = null) 必定为true\n * getImageLoadedSize: 图片加载成功后返回图片的加载尺寸\n */\n\ninterface Props {\n    url: string;\n    visible: boolean;\n    onClose: () => void;\n    simpleMode?: boolean;\n    operator?: 'default' | OperatorProps | null;\n    fixedOnScreen?: boolean;\n    getImageLoadedSize?: (state: BaseImageProps) => void;\n}\n\n/* Component */\n\nconst emptyImageProps: BaseImageProps = { w: 0, h: 0, r: 0, l: 0, t: 0, translate: '-50%' };\n\nconst defaultOperator: OperatorProps = {\n    bar: ['zoom-in', 'zoom-out', 'free-rotate', 'free-drag', 'reset'],\n    contextMenu: ['rotate', 'free-rotate', 'free-drag'],\n};\n\nexport function ImagePreview(this: any, props: Props) {\n    const { url, onClose, visible, simpleMode = false, getImageLoadedSize = undefined } = props;\n\n    let operator = simpleMode ? null : props.operator === 'default' ? defaultOperator : props.operator;\n\n    let fixedOnScreen = simpleMode ? true : props.fixedOnScreen;\n\n    const [imageLoadedState, setImageLoadedState] = useState<BaseImageProps>(emptyImageProps);\n\n    const [imageState, setImageState] = useState<BaseImageProps>(emptyImageProps);\n\n    let image = useRef<HTMLImageElement>(null);\n\n    const imageStyle: React.CSSProperties = {\n        left: `${imageState.l}px`,\n        top: `${imageState.t}px`,\n        width: `${imageState.w}px`,\n        height: `${imageState.h}px`,\n        transform: `translate(${imageState.translate}, ${imageState.translate}) rotate(${imageState.r}deg)`,\n    };\n\n    const imageStaticStyle: React.CSSProperties = {\n        cursor: `move`,\n        width: `${imageLoadedState.w}px`,\n        height: `${imageLoadedState.h}px`,\n        position: 'relative',\n        overflow: 'hidden',\n    };\n\n    // 禁用document滚轮防止意外滚动\n    useEffect(() => {\n        const prevent = (e: any) => e.preventDefault();\n        const disablePassiveWheelEvent = () => document.addEventListener('wheel', prevent, { passive: false });\n        const enablePassiveWheelEvent = () => document.removeEventListener('wheel', prevent);\n        if (!simpleMode && visible && fixedOnScreen) {\n            console.log('%cnow scroll by wheel is blocked', 'color:purple');\n            disablePassiveWheelEvent();\n        } else {\n            console.log('%cnow scroll by wheel is available', 'color:green');\n            enablePassiveWheelEvent();\n        }\n        return enablePassiveWheelEvent;\n    }, [visible, fixedOnScreen, simpleMode]);\n\n    // const [imageOriginState, setImageOriginState] = useState(emptyImageProps);\n\n    /**\n     * @param {HTMLImageElement} node\n     * @returns\n     */\n    const sizing = (node: HTMLImageElement) => {\n        const l = fixedOnScreen ? window.innerWidth / 2 : 0; // 非固定时初始为0\n        const t = fixedOnScreen ? window.innerHeight / 2 : 0; // 非固定时初始为0\n\n        const wMax = window.innerWidth * 0.9;\n        const hMax = window.innerHeight * 0.9 - 100; // 100为底部功能栏高度保留\n\n        const wOrigin = node.naturalWidth; // 初始的图片宽\n        const hOrigin = node.naturalHeight; // 初始的图片高度\n\n        const wRatio = wOrigin / wMax;\n        const hRatio = hOrigin / hMax;\n\n        const size =\n            wRatio < 1 && hRatio < 1\n                ? { w: wOrigin, h: hOrigin }\n                : wRatio > hRatio\n                ? { w: wMax, h: hOrigin / wRatio }\n                : { w: wOrigin / hRatio, h: hMax };\n\n        const translate = fixedOnScreen ? '-50%' : '0';\n\n        // setImageOriginState({ ...imageState, t, l, w: wOrigin, h: hOrigin, translate });\n        const changedState = { t, l, w: size.w, h: size.h, translate };\n        const state = { ...imageState, ...changedState };\n        setImageLoadedState(state);\n        setImageState(state);\n        return state;\n    };\n\n    /* 初始化容器大小 */\n    const handleImageLoaded = () => {\n        console.log('%cimage loaded', 'color:red');\n        if (image.current) {\n            const state = sizing(image.current);\n            if (getImageLoadedSize) {\n                getImageLoadedSize(state);\n            }\n        }\n    };\n\n    /* 放大 */\n    const zoomIn = () => {\n        setImageState(state => ({ ...state, w: imageState.w * 1.05, h: imageState.h * 1.05 }));\n    };\n\n    /* 缩小 */\n    const zoomOut = () => {\n        setImageState(state => ({ ...state, w: imageState.w * 0.95, h: imageState.h * 0.95 }));\n    };\n\n    /* 旋转 */\n    const rotate = () => {\n        setImageState(s => ({ ...s, r: s.r + 90 }));\n    };\n\n    /* 重置 */\n    const reset = () => {\n        setControlMode('free-drag');\n        setRotatable(false);\n        setDraggable(false);\n        setImageState(imageLoadedState);\n    };\n\n    /* 关闭预览 */\n    const close = () => {\n        reset();\n        if (onClose) {\n            onClose();\n        }\n    };\n\n    /* 特殊行为 */\n\n    /* 滚轮缩放 */\n    const toScale = (e: React.WheelEvent) => {\n        let scaleDelta = e.deltaY < 0 ? +0.05 : -0.05;\n\n        // 捕获鼠标在图片位置\n        const relativePoint: AxisPoint = { x: e.clientX - imageState.l, y: e.clientY - imageState.t };\n\n        // 缩放宽高\n        let w = imageState.w * (1 + scaleDelta);\n        let h = imageState.h * (1 + scaleDelta);\n\n        // 原有的偏移量\n        let lastLeft = imageState.l;\n        let lastTop = imageState.t;\n\n        // 保持缩放后坐标点与鼠标坐标点重合\n        let l = lastLeft - scaleDelta * relativePoint.x;\n        let t = lastTop - scaleDelta * relativePoint.y;\n        setImageState(s => {\n            const updateState = { ...s, w, h, l, t };\n            return updateState;\n        });\n    };\n\n    const [controlMode, setControlMode] = useState<ImageControlMode>('free-drag');\n\n    const changeMode = (mode: ImageControlMode) => setControlMode(mode);\n\n    /* 拖拽 */\n    const [distToImageBoundary, setDistToImageBoundary] = useState<AxisPoint>({ x: 0, y: 0 });\n    const [draggable, setDraggable] = useState(false);\n\n    // 拖拽开始\n    const startMove = (e: React.MouseEvent) => {\n        e.preventDefault();\n        setDraggable(true);\n        setDistToImageBoundary({ x: e.clientX - image.current!.offsetLeft, y: e.clientY - image.current!.offsetTop });\n    };\n\n    // 拖拽移动\n    const dragging = function(e: React.MouseEvent) {\n        if (!draggable) {\n            return;\n        }\n        let l = e.clientX - distToImageBoundary.x;\n        let t = e.clientY - distToImageBoundary.y;\n        setImageState(s => ({ ...s, l, t }));\n    };\n\n    // 拖拽结束\n    const endMove = function() {\n        setDraggable(false);\n    };\n\n    /* 自由旋转 */\n    const [rotatable, setRotatable] = useState(false);\n    const [pointA, setPointA] = useState<AxisPoint>({ x: 0, y: 0 });\n    const startRotate = function(e: React.MouseEvent) {\n        e.preventDefault();\n        setPointA({ x: e.clientX, y: e.clientY });\n        setRotatable(true);\n    };\n\n    const rotating = function(e: React.MouseEvent) {\n        if (!rotatable) {\n            return;\n        }\n\n        const pointB = { x: e.clientX, y: e.clientY };\n\n        const getLine = (point1: AxisPoint, point2: AxisPoint): number =>\n            Math.sqrt(Math.pow(Math.abs(point1.x - point2.x), 2) + Math.pow(Math.abs(point1.y - point2.y), 2));\n\n        const { left, right, top, bottom } = image.current!.getBoundingClientRect();\n        const pointO = { x: (left + right) / 2, y: (top + bottom) / 2 };\n        const a = getLine(pointB, pointA);\n        const b = getLine(pointB, pointO);\n        const c = getLine(pointA, pointO);\n\n        let cosO = (b * b + c * c - a * a) / (2 * b * c);\n        let degree = (Math.acos(cosO) * 180) / 3.1415;\n\n        // 求向量积\n        let matrix = [\n            [pointA.x - pointO.x, pointB.x - pointO.x],\n            [pointA.y - pointO.y, pointB.y - pointO.y],\n        ];\n        let direct = matrix[0][0] * matrix[1][1] - matrix[0][1] * matrix[1][0] >= 0 ? +1 : -1;\n\n        setImageState(s => ({ ...s, r: s.r + direct * degree }));\n        setPointA(pointB);\n    };\n\n    const endRotate = function(e: React.MouseEvent) {\n        setPointA({ x: e.clientX, y: e.clientY });\n        setRotatable(false);\n    };\n\n    const handleMouseDown = (e: React.MouseEvent) => {\n        controlMode === 'free-drag' ? startMove(e) : startRotate(e);\n    };\n\n    const handleMouseMove = (e: React.MouseEvent) => {\n        controlMode === 'free-drag' ? dragging(e) : rotating(e);\n    };\n\n    const handleMouseUp = (e: React.MouseEvent) => {\n        controlMode === 'free-drag' ? endMove() : endRotate(e);\n    };\n\n    /* 图片操作 */\n    const imageOperations: ImageOperationMap = {\n        'zoom-in': zoomIn,\n        'zoom-out': zoomOut,\n        rotate: rotate,\n        'free-drag': () => changeMode('free-drag'),\n        'free-rotate': () => changeMode('free-rotate'),\n        reset: reset,\n    };\n\n    /* 右键菜单: 终止当前进行的行为 */\n    const disableActions = () => {\n        setControlMode('free-drag');\n        setDraggable(false);\n        setRotatable(false);\n    };\n\n    /* 渲染 */\n\n    /* 右键菜单渲染 */\n    const renderContextMenu = (): MenuItem[] | React.ReactElement | null => {\n        // 不渲染右键菜单\n        if (!operator || !operator.contextMenu) {\n            return null;\n        }\n\n        // 字符串数组\n        if (operator.contextMenu instanceof Array) {\n            let menuList: MenuItem[] = [];\n            for (let name of operator.contextMenu) {\n                const method = imageOperations[name];\n                if (method) {\n                    const newItem: MenuItem = { name, method };\n                    menuList = [...menuList, newItem];\n                }\n            }\n            return menuList;\n        }\n\n        // 组件\n        return operator.contextMenu as React.ReactElement;\n    };\n\n    /* 操作栏渲染 */\n    const renderBar = (): OperatorProps['bar'] => {\n        if (!operator || !operator.bar) {\n            return null;\n        }\n        if (operator.bar instanceof Array) {\n            let barOperations: MenuItem[] = [];\n            for (let name of operator.bar) {\n                const method = imageOperations[name];\n                if (method) {\n                    const newItem: MenuItem = { name, method };\n                    barOperations = [...barOperations, newItem];\n                } else {\n                    console.warn(`can't find method which refers ${name}`);\n                }\n            }\n\n            const menu = (\n                <div className=\"g-image-preview-action-bar\" onClick={e => e.stopPropagation()}>\n                    {barOperations.map(item => (\n                        <i key={item.name} onClick={item.method}>\n                            {item.name}\n                        </i>\n                    ))}\n                </div>\n            );\n            return menu;\n        }\n        return operator.bar;\n    };\n\n    const [fullScreenFlag, setFullScreenFlag] = useState(false);\n\n    const easyCursorStyle: React.CSSProperties = { cursor: fullScreenFlag ? 'zoom-out' : 'zoom-in' };\n\n    const toggleFullScreen = (e: React.MouseEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const l = window.innerWidth / 2; // 非固定时初始为0\n        const t = window.innerHeight / 2; // 非固定时初始为0\n\n        const wMax = window.innerWidth * 0.9 - 48; // 安全边界\n        const hMax = window.innerHeight * 0.9 - 48;\n\n        const wRatio = imageLoadedState.w / wMax;\n        const hRatio = imageLoadedState.h / hMax;\n\n        const size = wRatio > hRatio ? { w: wMax, h: imageLoadedState.h / wRatio } : { w: imageLoadedState.w / hRatio, h: hMax };\n\n        const translate = fixedOnScreen ? '-50%' : '0';\n\n        setImageState(s => (fullScreenFlag ? imageLoadedState : { ...s, l, t, w: size.w, h: size.h, translate }));\n        setFullScreenFlag(s => !s);\n    };\n\n    if (!visible) {\n        return <></>;\n    }\n\n    if (simpleMode) {\n        return (\n            <div className={`g-image-preview-wrapper g-fixed`} onClick={close}>\n                <div className=\"g-image-preview-icon-close\" onClick={close}>\n                    X\n                </div>\n                <img\n                    className={`g-image-preview-image`}\n                    onContextMenu={disableActions}\n                    onClick={toggleFullScreen}\n                    style={{ ...imageStyle, ...easyCursorStyle }}\n                    onLoad={handleImageLoaded}\n                    ref={image}\n                    src={url}\n                    alt=\"图片\"\n                />\n            </div>\n        );\n    }\n\n    return (\n        <div\n            className={`g-image-preview-wrapper ${fixedOnScreen ? 'g-fixed' : ''}`}\n            style={fixedOnScreen ? {} : imageStaticStyle}\n            onClick={fixedOnScreen ? close : void 0}\n        >\n            {fixedOnScreen && (\n                <div className=\"g-image-preview-icon-close\" onClick={close}>\n                    X\n                </div>\n            )}\n            <ContextMenu menu={renderContextMenu()}>\n                <img\n                    className={`g-image-preview-image`}\n                    onMouseDown={handleMouseDown}\n                    onMouseMove={handleMouseMove}\n                    onMouseUp={handleMouseUp}\n                    onContextMenu={disableActions}\n                    onClick={(e: React.MouseEvent) => e.stopPropagation}\n                    style={imageStyle}\n                    onLoad={handleImageLoaded}\n                    ref={image}\n                    src={url}\n                    alt=\"图片\"\n                    onWheel={toScale}\n                />\n            </ContextMenu>\n            {renderBar()}\n        </div>\n    );\n}\n","import { Checkbox, Modal } from 'antd';\nimport CheckboxGroup from 'antd/lib/checkbox/Group';\nimport { CodePaper } from 'components/code-paper/CodePaper';\nimport { IsolateBlock } from 'components/isolate-block/IsolateBlock';\nimport React, { useEffect, useState } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport toc from 'remark-toc';\nimport img from '../../../assets/image/panda.png';\nimport markdown from '../doc/image-preview.md';\nimport { BaseImageProps, ImagePreview } from '../ImagePreview';\nimport './demo.less';\n\nconst sampleImage = 'https://cdn.pixabay.com/photo/2020/03/08/11/21/british-4912211_960_720.jpg';\n\nexport const ImagePreviewDemo = () => {\n    const [show, setShow] = useState<number | null>(-1);\n\n    const [webImageUrl, setWebImageUrl] = useState('');\n\n    const [doc, setDoc] = useState('');\n\n    useEffect(() => {\n        fetch(markdown)\n            .then(res => res.text())\n            .then(text => setDoc(text));\n    }, []);\n\n    const close = () => {\n        setShow(null);\n    };\n\n    const showWebImage = (text: string) => {\n        if (text) {\n            setWebImageUrl(text);\n            localStorage.setItem('image-preview-url', text);\n        }\n        setShow(99);\n    };\n\n    // 加载本地缓存url\n    useEffect(() => {\n        const text = localStorage.getItem('image-preview-url');\n        if (text) {\n            setWebImageUrl(text);\n        }\n    }, []);\n\n    const [modalWidth, setModalWidth] = useState(500);\n\n    const getImageLoadedSize = (size: BaseImageProps) => {\n        setModalWidth(size.w + 48);\n    };\n\n    return (\n        <div>\n            <h2>组件名称：图片预览（ImagePreview）</h2>\n            <p>基础操作: 滚轮缩放 拖拽</p>\n            <p>菜单操作: 旋转 重置</p>\n            <div className=\"g-table\">\n                <IsolateBlock>\n                    <h3>简易模式示例</h3>\n                    <p>单击图片 将等比拉伸至可能的屏幕最大尺寸, 无菜单</p>\n                    <img src={img} alt=\"图片\" className=\"g-sample-image\" onClick={() => setShow(1)} />\n                    <ImagePreview url={img} simpleMode={true} visible={show === 1} onClose={close} />\n                </IsolateBlock>\n\n                <IsolateBlock>\n                    <h3>功能菜单</h3>\n                    <p>含默认右键菜单</p>\n                    <img alt=\"图片\" className=\"g-sample-image\" src={sampleImage} onClick={() => setShow(2)} />\n                    <ImagePreview url={sampleImage} operator=\"default\" fixedOnScreen={true} visible={show === 2} onClose={close} />\n                </IsolateBlock>\n\n                <IsolateBlock>\n                    <h3>非全屏遮罩模式</h3>\n                    <p>包含在特定组件, 元素内</p>\n                    <p>包含于Ant-Modal内</p>\n                    <img alt=\"图片\" className=\"g-sample-image\" src={sampleImage} onClick={() => setShow(3)} />\n                    <Modal visible={show === 3} width={modalWidth} onCancel={close} style={{ width: '780px', height: '520px' }}>\n                        <ImagePreview\n                            url={sampleImage}\n                            getImageLoadedSize={getImageLoadedSize}\n                            fixedOnScreen={false}\n                            operator=\"default\"\n                            visible={true}\n                            onClose={close}\n                        />\n                    </Modal>\n                </IsolateBlock>\n\n                <IsolateBlock>\n                    <h4>组件测试</h4>\n                    <p>将想要测试图片地址输入(空白使用默认图片)</p>\n                    <CodePaper text={webImageUrl} handleClick={showWebImage} buttonText=\"显示预览\" className=\"small-size\" />\n                    <CheckboxGroup>\n                        <label>\n                            <Checkbox></Checkbox>\n                            简易模式\n                        </label>\n                        <label>\n                            <Checkbox></Checkbox>\n                            遮罩固定\n                        </label>\n                    </CheckboxGroup>\n                    <ImagePreview url={webImageUrl} simpleMode={true} visible={show === 99} onClose={close} />\n                </IsolateBlock>\n            </div>\n            <ReactMarkdown source={doc} plugins={[toc]}></ReactMarkdown>\n        </div>\n    );\n};\n","import React, { useState } from 'react';\nimport './index.less';\nimport { Level } from './Levels';\n\ninterface Props {\n    level: Level;\n    depth: number;\n    route: string;\n    fontSize: number;\n}\n\nexport const OneLevel = (props: Props) => {\n    const { level, depth, route } = props;\n\n    const renderRouteCheck = () => {\n        const path = window.location.pathname;\n        const result = !!path.match(route);\n        return result;\n    };\n\n    const [active, setActive] = useState<boolean>(renderRouteCheck());\n\n    const activeLevel = (item: Level, route: string) => {\n        setActive(s => !s);\n        return item.static ? replaceRoute(item.route) : changeRoute(route);\n    };\n\n    const replaceRoute = (route: string) => window.location.replace(route);\n\n    const changeRoute = (route: string) => console.log(route);\n\n    const classNameGenerator = (depth: number) => {\n        return `g-levels-link ${depth ? 'g-small-font' : ''}`;\n    };\n\n    return (\n        <div\n            key={level.name}\n            className={classNameGenerator(depth)}\n            onClick={() => activeLevel(level, route)}\n            style={active ? { color: '#2dc6ad' } : undefined}\n        >\n            <span style={{ paddingLeft: `${depth}em` }}></span>\n            {level.name}\n        </div>\n    );\n};\n","import React from 'react';\nimport './index.less';\nimport { OneLevel } from './OneLevel';\n\nexport type LevelProps = {\n    name: string;\n    route: string;\n};\n\n// 静态url-Level\ninterface StaticLevel extends LevelProps {\n    static: true;\n    deep?: null;\n}\n\n// 层级动态url-Level\ninterface LayerLevel extends LevelProps {\n    static?: false;\n    deep?: Level[];\n}\n\nexport type Level = StaticLevel | LayerLevel;\n\ninterface Props {\n    data: Level[];\n    fontSize?: number;\n}\n\nexport const Levels = (props: Props) => {\n    const { data, fontSize = 45 } = props;\n    // const [activeUrl, setActiveUrl] = useState('');\n\n    /**\n     * 递归渲染层级菜单\n     * @param {Level} item\n     * @param {number} [depth=0]\n     * @param {string} [lastUrl]\n     * @returns {React.ReactNode}\n     */\n    const recursiveRender = (item: Level, depth: number = 0, lastRoute?: string): React.ReactNode => {\n        const route = lastRoute ? `${lastRoute}/${item.route}` : item.route;\n        return (\n            <div key={item.name}>\n                <OneLevel level={item} depth={depth} route={route} fontSize={fontSize} />\n                {item.deep && item.deep.map((deepItem: Level) => recursiveRender(deepItem, depth + 1, route))}\n            </div>\n        );\n    };\n\n    return <div className=\"g-levels-wrapper\">{data.map((item: Level) => recursiveRender(item))}</div>;\n    //  return <div className=\"wrapper\">{props.data.map((item: LevelProps) => <OneLevel item={item} depth={}></OneLevel>)}</div>;\n};\n","import { CodePaper } from 'components/code-paper/CodePaper';\nimport React, { useState } from 'react';\nimport { Level, Levels } from './Levels';\n\nconst levels: Level[] = [\n    { name: 'Pipeline', route: 'pipeline' },\n    { name: 'Github', route: 'https://github.com/', static: true },\n    {\n        name: 'Ground',\n        route: 'ground',\n        deep: [\n            {\n                name: 'Solid',\n                route: 'solid',\n                deep: [\n                    { name: 'Dust', route: 'dust' },\n                    { name: 'Germ', route: 'germ' },\n                ],\n            },\n            { name: 'Liquid', route: 'liquid' },\n        ],\n    },\n];\n\nexport const LevelsDemo = () => {\n    const [levelData, setLevelData] = useState(levels);\n\n    const handleChange = (text: string) => {\n        try {\n            setLevelData(JSON.parse(text));\n        } catch {\n            console.error('error: INVALID JSON ARRAY FORMAT');\n        }\n    };\n    return (\n        <div className=\"demo-levels-wrapper\">\n            <h3>组件名称：层级导航（Levels）</h3>\n            <h4>(开发中)</h4>\n            <h4>示例</h4>\n            当前数据:\n            <CodePaper text={`${JSON.stringify(levels)}`} handleClick={handleChange} />\n            <Levels data={levelData}></Levels>\n        </div>\n    );\n};\n","import React from 'react'\nimport './index.less'\n\n\nexport const Loading = (props: { handleClick?: () => void }) => {\n    return <span className=\"g-icon-rotate\" onClick={props.handleClick} />\n}\n\n","import React, { CSSProperties, useEffect, useState } from 'react';\nimport './Waterfall.less';\n\ninterface Props {\n    children: React.ReactElement[];\n    column?: number;\n}\n\n// const defaultGrid = {\n//     horizontalEvenly: true,\n// };\n\nexport const Waterfall = (props: Props) => {\n    const { children, column = 3 } = props;\n\n    const generateColumn = (column: number): CSSProperties['gridTemplateColumns'] => {\n        let totalPropString = '';\n        for (let i = 0; i < column; i++) {\n            totalPropString.concat(' 1fr');\n        }\n        return totalPropString;\n    };\n\n    const [style, setStyle] = useState<CSSProperties>({});\n\n    useEffect(() => {\n        const gridColumn = { gridTemplateColumns: generateColumn(column) };\n        setStyle(gridColumn);\n        console.log(gridColumn);\n    },[column]);\n\n    return (\n        <div className=\"g-waterfall-wrapper\" style={style}>\n            {children}\n        </div>\n    );\n};\n","\nimport React from 'react';\nimport { Switch } from 'react-router-dom';\nimport { RouteWithSubRoutes } from '../../App';\nimport './style.less';\n\ninterface ICompProps {\n  routes: any[];\n}\n\nconst Component = ({ routes }: ICompProps) => {\n  return (\n    <div className=\"p-comp\">\n      <Switch>\n        {routes.map((route: any) => (\n          <RouteWithSubRoutes key={route.key} {...route} />\n        ))}\n      </Switch>\n    </div>\n  );\n};\n\nexport default Component;","import { Avatar, Card, Col, Row, Statistic } from 'antd';\nimport { routeConfig } from 'config';\nimport React from 'react';\nimport img from '../../assets/image/panda.png';\nimport './style.less';\n\nconst { Meta } = Card;\n\nconst Home = () => {\n    const hour = new Date().getHours();\n    let hello =\n        hour >= 12 && hour <= 17\n            ? '下午好, 记得多起来动动'\n            : hour >= 17 && hour <= 23\n            ? '晚上好, 要多多玩耍~'\n            : hour > 23 || hour < 5\n            ? '深夜了, 快休息吧'\n            : '早上好, 迎接一天最好的阳光';\n\n    return (\n        <div className=\"p-home\">\n            <h3> 组件平台 </h3>\n            <Row>\n                <Col span={20}>\n                    <Meta\n                        avatar={<Avatar style={{ marginTop: 5 }} size=\"large\" src={img} />}\n                        title={`${hello}`}\n                        description=\"组件目录在侧栏, 请选择查看\"\n                    />\n                </Col>\n                <Col style={{ marginTop: -13 }} span={4}>\n                    <Statistic title=\"当前组件总数\" value={routeConfig[1].routes?.length} />\n                </Col>\n            </Row>\n        </div>\n    );\n};\n\nexport default Home;\n","// components\nimport { CodePaperDemo } from 'components/code-paper/demo/demo';\nimport { ImagePreviewDemo } from 'components/image-preview/demo/demo';\nimport { LevelsDemo } from 'components/levels/demo';\nimport { LoadingDemo } from 'components/loading/demo';\nimport { WaterfallDemo } from 'components/waterfall/demo/demo';\nimport Component from 'pages/Component';\nimport Home from '../pages/Home';\n\nexport interface IRouteSubs {\n    key: string;\n    title: string;\n    path: string;\n    icon?: string;\n    exact?: boolean;\n    component: React.ComponentType<any>;\n}\n\nexport interface IRouteConfigs {\n    key: string;\n    title: string;\n    path: string;\n    icon?: string;\n    exact?: boolean;\n    component: React.ComponentType<any>;\n    inMenu?: boolean;\n    hide?: boolean;\n    routes?: Array<IRouteSubs>;\n}\n\nexport const routeConfig: IRouteConfigs[] = [\n    {\n        key: 'home',\n        icon: 'home',\n        title: '首页',\n        exact: true,\n        component: Home,\n        inMenu: true,\n        path: '/',\n    },\n    {\n        key: 'comp',\n        icon: 'gold',\n        title: '组件',\n        inMenu: true,\n        component: Component,\n        path: '/comp',\n        routes: [\n            {\n                key: 'image-preview',\n                title: '图片预览 · ImagePreview',\n                component: ImagePreviewDemo,\n                path: '/comp/image-preview',\n            },\n            {\n                key: 'levels',\n                title: '阶级导航 · Levels',\n                component: LevelsDemo,\n                path: '/comp/levels',\n            },\n            {\n                key: 'code-paper',\n                title: '代码块 · CodePaper',\n                component: CodePaperDemo,\n                path: '/comp/code-paper',\n            },\n            {\n                key: 'rolling-banner',\n                title: '滚动幅 · RollingBanner',\n                component: LoadingDemo,\n                path: '/comp/rolling-banner',\n            },\n\n            {\n                key: 'waterfall',\n                title: '瀑布图 · Waterfall',\n                component: WaterfallDemo,\n                path: '/comp/waterfall',\n            },\n        ],\n    },\n];\n","import { message } from 'antd'\nimport React from 'react'\nimport { CodePaper } from '../CodePaper'\n\nexport const CodePaperDemo = () => {\n    const handleClick = (text: string) =>{\n        message.info(text)\n    }\n    return (\n        <div>\n            <h3>代码块</h3>\n            <CodePaper text='' handleClick={handleClick} />\n        </div>\n    )\n}\n","import React from 'react';\nimport { Loading } from '.';\n\nexport const LoadingDemo = () => {\n    return (\n        <div>\n            <Loading></Loading>\n        </div>\n    );\n};\n","import { IsolateBlock } from 'components/isolate-block/IsolateBlock';\nimport React from 'react';\nimport { Waterfall } from '../Waterfall';\n\nexport const WaterfallDemo = () => {\n    return (\n        <div>\n            <Waterfall>\n                <IsolateBlock>conhdianqi cece na case cat</IsolateBlock>\n                <IsolateBlock>istals psrm</IsolateBlock>\n                <IsolateBlock>onhdianqi cece na case catonhdianqi cece na case cat</IsolateBlock>                \n                <IsolateBlock>onhdianqi cece na case cat</IsolateBlock>\n                <IsolateBlock>onhdianqi cece na caonhdianqi cece na case catse catonhdianqi cece na case cat</IsolateBlock>                \n                <IsolateBlock>onhdianqi cece na case catonhdianqi cece na case cat</IsolateBlock>\n                <IsolateBlock>onhdianqi cece na case cat</IsolateBlock>                \n                <IsolateBlock>onhdianqi cece na conhdianqi cece na case catonhdianqi cece na case catonhdianqi cece na case catase cat</IsolateBlock>\n                <IsolateBlock>onhdianqi cece na case cat</IsolateBlock>\n            </Waterfall>\n        </div>\n    );\n};\n","import React from 'react'\n\nexport const NotFound = () => {\n    return (\n        <div>\n            NOTFOUND\n        </div>\n    )\n}\n","import { CheckCircleTwoTone, MenuFoldOutlined, MenuUnfoldOutlined, SettingTwoTone } from '@ant-design/icons';\nimport { Layout, Menu } from 'antd';\nimport { SiteRecord } from 'pages/SiteRecord';\nimport React, { useEffect, useState } from 'react';\nimport { NavLink, Route, Switch, withRouter } from 'react-router-dom';\nimport './App.less';\nimport { IRouteConfigs, routeConfig } from './config/index';\nimport { NotFound } from './pages/NotFound';\nconst { Header, Sider, Content } = Layout;\nconst { SubMenu } = Menu;\n\n/**\n * returns nested routes\n * @param {IRouteConfigs} route\n * @returns\n */\nexport function RouteWithSubRoutes(route: IRouteConfigs) {\n    return (\n        <Route\n            path={route.path}\n            render={props => (\n                // pass the sub-routes down to keep nesting\n                <route.component {...props} routes={route.routes} />\n            )}\n        />\n    );\n}\n\nconst App: React.FC = () => {\n    const [collapsed, setCollapsed] = useState(false);\n\n    const toggle = () => setCollapsed(!collapsed);\n\n    useEffect(() => {\n        let isMobile = /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i.test(\n            navigator.userAgent,\n        );\n        setCollapsed(!!isMobile);\n    }, []);\n\n    const menuTitle = (routeItem: IRouteConfigs) => (\n        <span>\n            <SettingTwoTone />\n            <span>{routeItem.title}</span>\n        </span>\n    );\n\n    const renderItems = () => {\n        return routeConfig.map(routeItem => {\n            return routeItem.routes ? (\n                <SubMenu key={routeItem.key} title={menuTitle(routeItem)}>\n                    {routeItem.routes.map(subItem => (\n                        <Menu.Item key={subItem.key}>\n                            <NavLink to={subItem.path}>\n                                {subItem.icon && <CheckCircleTwoTone />}\n                                <span>{subItem.title}</span>\n                            </NavLink>\n                        </Menu.Item>\n                    ))}\n                </SubMenu>\n            ) : routeItem.component ? (\n                <Menu.Item key={routeItem.key}>\n                    <NavLink to={routeItem.path}>\n                        {routeItem.icon && <CheckCircleTwoTone />}\n                        <span>{routeItem.title}</span>\n                    </NavLink>\n                </Menu.Item>\n            ) : null;\n        });\n    };\n\n    return (\n        <div className=\"App\">\n            <Layout>\n                <Sider width={250} trigger={null} reverseArrow collapsible collapsed={collapsed}>\n                    <div className=\"logo\">组件开发平台</div>\n                    <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['home']} defaultOpenKeys={['comp']}>\n                        {renderItems()}\n                    </Menu>\n                </Sider>\n                <Layout>\n                    <Header style={{ background: '#fff', padding: 0 }}>\n                        {collapsed ? (\n                            <MenuUnfoldOutlined onClick={toggle} className=\"trigger\" />\n                        ) : (\n                            <MenuFoldOutlined onClick={toggle} className=\"trigger\" />\n                        )}\n                        折叠\n                    </Header>\n                    <Content className=\"App-content\">\n                        <Switch>\n                            123\n                            {routeConfig.map(route => (\n                                <RouteWithSubRoutes key={route.key} {...route} />\n                            ))}\n                            <Route component={NotFound} />\n                        </Switch>\n                    </Content>\n                </Layout>\n            </Layout>\n\n            <SiteRecord/>\n        </div>\n    );\n};\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/panda.6c7f1359.png\";"],"sourceRoot":""}